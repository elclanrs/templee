(function(t){"use strict";function n(t){this.data=t,this.length=this.data.length}function r(t){return new n(t)}function e(t,n){return function(){return t.apply(n||arguments[0],[].slice.call(arguments))}}function i(t,n){return n}function u(t,n){return t.map(e(n)).join("")}function c(t,n){var r=n.split("."),e=t;return r.map(function(t){return e=e[t]}).pop()}function o(t,n){var r=/#\{([\w.]+)\}/g,e=/@\{([^{}]+)=\{([^{}]+)\}([^{}]+)\}/g,i=/@\[(.+)\]\{(.+)\}/g;return u(t,function(t){return n.replace(r,function(n,r){return c(t,r)}).replace(e,function(n,r,e,i){return u(c(t,e),function(t){return r+t+i})}).replace(i,function(n,r,e){return e.replace(/=\{([^{}]+)\}/g,function(n,e){return c(c(t,r),e)})})})}n.prototype={_new:function(t){return t=t.map(function(t){return i(t,{})}),this.length=this.data.length,r(t)},_filter:function(t){return this._new(this.data.filter(function(n,r){return t.call(this,c(n,this.prop),r)}.bind(this)))},get:function(t){return t?this.map(function(){return this[t]}):this.data},where:function(t){return this.prop=t,this},and:function(t){return this.where(t)},is:function(t){var n=t instanceof RegExp?t:RegExp("^"+t+"$"),r=/^([<>=%]+)([\d.]+)/.exec(t)||[0,null,0];return r[1]?this[r[1]](+r[2]):this._filter(function(t){return n.test(t)})},">":function(t){return this._filter(function(n){return n>t})},">=":function(t){return this._filter(function(n){return n>=t})},"<":function(t){return this._filter(function(n){return t>n})},"<=":function(t){return this._filter(function(n){return t>=n})},"%":function(t){return this._filter(function(n){return 0===n%t})},add:function(t){return this._new(this.get().concat[t])},slice:function(t,n){return this._new(this.get().slice(t,n))},each:function(t){return this.get().some(e(t)),this},map:function(t){return this._new(this.get().map(e(t)))},sort:function(t){return this._new(this.get().sort(function(n,r){return t?t.apply(this,n,r):n>r}.bind(this)))},eq:function(t){return this._new(this.data[t])},html:function(t,n){var r=(/^<(\w+)/.exec(n)||[0,null])[1],e=o(this.data,t);return r?n+e+"</"+r+">":e}},t.templee=r})(window);