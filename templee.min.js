(function(t){"use strict";function n(t){this.data=t,this.length=this.data.length}function r(t){return new n(t)}function i(t,n){return function(){return t.apply(n||arguments[0],[].slice.call(arguments))}}function e(t,n){for(var r in t)n[r]=t[r];return n}function u(t,n){return t.map(i(n)).join("")}function c(t,n){var r=n.split("."),i=t;return r.map(function(t){return i=i[t]}).pop()||[]}function o(t,n){var r=/#\{([^{}]+)\}/g,i=/@\{([^{}]+)=\{([^{}]+)\}([^{}]+)\}/g,e=/@\[(.+)\]\{(.+)\}/g;return u(t,function(t){return n.replace(r,function(n,r){return c(t,r)}).replace(i,function(n,r,i,e){return u(c(t,i),function(t){return r+t+e})}).replace(e,function(n,r,i){return i.replace(/=\{([^{}]+)\}/g,function(n,i){return c(c(t,r),i)})})})}n.prototype={_new:function(t){return t=t.map(function(t){return e(t,{})}),this.length=this.data.length,r(t)},_filter:function(t){return this._new(this.data.filter(function(n,r){return t.call(this,c(n,this.prop),r)}.bind(this)))},get:function(t){return t?this.map(function(){return this[t]}):this.data},where:function(t){return this.prop=t,this},and:function(t){return this.where(t)},is:function(t){var n=t instanceof RegExp?t:RegExp("^"+t+"$"),r=/^([<>=%]+)([\d.]+)/.exec(t)||[0,null,0];return r[1]?this[r[1]](+r[2]):this._filter(function(t){return n.test(t)})},">":function(t){return this._filter(function(n){return n>t})},">=":function(t){return this._filter(function(n){return n>=t})},"<":function(t){return this._filter(function(n){return t>n})},"<=":function(t){return this._filter(function(n){return t>=n})},"%":function(t){return this._filter(function(n){return 0===n%t})},add:function(t){return this.data.push(t),this},slice:function(t,n){return this._new(this.data.slice(t,n))},each:function(t){return this.data.some(i(t)),this},map:function(t){return this._new(this.data.map(i(t)))},sort:function(t){return this._new(this.data.sort(i(t)))},eq:function(t){return this._new(this.data[t])},html:function(t,n){var r=(/^<(\w+)/.exec(n)||[0,null])[1],i=o(this.data,t);return r?n+i+"</"+r+">":i}},t.templee=r})(window);